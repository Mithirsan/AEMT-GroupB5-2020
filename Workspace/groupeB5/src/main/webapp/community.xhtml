<ui:composition template="/WEB-INF/template.xhtml"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:f="http://xmlns.jcp.org/jsf/core"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
xmlns:jsf="http://xmlns.jcp.org/jsf">


  <ui:define name="template-title">Alumni HELHa | Annuaire</ui:define>


  <ui:define name="template-content">

    <div class="container">
      <br />
      <div class="jumbotron">
        <h1 class="display-4">Annuaire</h1>
      </div>


      <h:form>
        <div class="alert alert-info">Options de filtre</div>

        <div class="form-group">
          <label for="targetSection">Section concernée :</label>
          <h:selectOneMenu class="form-control" id="targetSection" required="required" value="#{userController.targetSection}">
            <f:selectItem itemValue="AD" itemLabel="Assistant(e) de Direction"></f:selectItem>
            <f:selectItem itemValue="CG" itemLabel="Compatibilité de gestion"></f:selectItem>
            <f:selectItem itemValue="IG" itemLabel="Informatique de gestion"></f:selectItem>
          </h:selectOneMenu>
        </div>
        
         <div class="form-group mb-3">
          <h:selectOneMenu class="form-control" id="year" required="required" value="#{userController.year}">
            <f:selectItem itemValue="ALL" disabled="disabled" selected="selected" hidden="hidden" itemLabel="Année de diplomation"></f:selectItem>
            <f:selectItem itemValue="2000" itemLabel="2000"></f:selectItem>
            <f:selectItem itemValue="2001" itemLabel="2001"></f:selectItem>
            <f:selectItem itemValue="2002" itemLabel="2002"></f:selectItem>
            <f:selectItem itemValue="2003" itemLabel="2003"></f:selectItem>
            <f:selectItem itemValue="2004" itemLabel="2004"></f:selectItem>
            <f:selectItem itemValue="2005" itemLabel="2005"></f:selectItem>
            <f:selectItem itemValue="2006" itemLabel="2006"></f:selectItem>
            <f:selectItem itemValue="2007" itemLabel="2007"></f:selectItem>
            <f:selectItem itemValue="2008" itemLabel="2008"></f:selectItem>
            <f:selectItem itemValue="2009" itemLabel="2009"></f:selectItem>
            <f:selectItem itemValue="2010" itemLabel="2010"></f:selectItem>
            <f:selectItem itemValue="2011" itemLabel="2011"></f:selectItem>
            <f:selectItem itemValue="2012" itemLabel="2012"></f:selectItem>
            <f:selectItem itemValue="2013" itemLabel="2013"></f:selectItem>
            <f:selectItem itemValue="2014" itemLabel="2014"></f:selectItem>
            <f:selectItem itemValue="2015" itemLabel="2015"></f:selectItem>
            <f:selectItem itemValue="2016" itemLabel="2016"></f:selectItem>
            <f:selectItem itemValue="2017" itemLabel="2017"></f:selectItem>
            <f:selectItem itemValue="2018" itemLabel="2018"></f:selectItem>
            <f:selectItem itemValue="2019" itemLabel="2019"></f:selectItem>
            <f:selectItem itemValue="2020" itemLabel="2020"></f:selectItem>
          </h:selectOneMenu>
        </div>
        

        <button type="submit" class="btn btn-primary" jsf:action="#{userController.doResetUser()}">Rechercher</button>
        <hr />
      </h:form>


      <div class="alert alert-info">Résultats</div>



      <h:dataTable value = "#{userController.filterUser()}" var = "user"
        styleClass = "table table-striped table-hover"
        headerClass = "text-center font-weight-bold"
        rowClasses = "text-center">
			   
			   <h:column>    				
			      <f:facet name = "header">Nom</f:facet>    				
			      #{user.lastName}
			   </h:column>
			   
			   <h:column>    				
			      <f:facet name = "header">Prénom</f:facet>    				
			      #{user.firstName}
			   </h:column>
			   
			   <h:column>    				
			      <f:facet name = "header">Section</f:facet>    				
			      #{user.graduationSection.toString()}
			   </h:column>
			   
			   <h:column>    				
			      <f:facet name = "header">Année de diplomation</f:facet>    				
			      #{user.graduateDate}
			   </h:column>
			   <h:column>    				
			      <f:facet name = "header">Action</f:facet>    				
					<h:form>
						<h:commandButton value="View" action="#{userController.doSelectUser(user)}"></h:commandButton>
					</h:form>

			   </h:column>
			</h:dataTable>


      <div class="alert alert-info">Détails du contact</div>


      <div class="card">
        <br />
        <img src="..." class="img-thumbnail rounded mx-auto d-block" alt="Photo du contact" />

        <div class="card-body">
          <h3 class="card-subtitle mb-2 text-muted">#{userController.user.lastName} #{userController.user.firstName}</h3>

          <table class="table table-sm table-borderless">
            <thead>
              <tr>
                <th scope="col">Profession</th>
                <th scope="col">Diplôme</th>
                <th scope="col">Adresse e-mail</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>#{userController.user.career}</td>
                <td>#{userController.user.graduationSection.toString()}</td>
                <td>#{userController.user.email}</td>
              </tr>
            </tbody>
          </table>

          <a href="mailto:jdupont@test.be" class="btn btn-primary btn-sm">Contacter</a>
        </div>
      </div>

    </div>

  </ui:define>


</ui:composition>