<ui:composition template="/WEB-INF/template.xhtml" xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:ui="http://xmlns.jcp.org/jsf/facelets" xmlns:jsf="http://xmlns.jcp.org/jsf">


  <ui:define name="template-title">Alumni HELHa | Annuaire</ui:define>


  <ui:define name="template-content">

    <div class="container">
      <br />
      <div class="jumbotron">
        <h1 class="display-4">Annuaire</h1>
      </div>


      <h:form>
        <div class="alert alert-info">Options de filtre</div>

        <div class="form-group">
          <label for="targetSection">Section concernée :</label>
          <h:selectOneMenu class="form-control" id="targetSection" required="required" value="#{userController.targetSection}">
            <f:selectItem itemValue="AD" itemLabel="Assistant(e) de Direction"></f:selectItem>
            <f:selectItem itemValue="CG" itemLabel="Compatibilité de gestion"></f:selectItem>
            <f:selectItem itemValue="IG" itemLabel="Informatique de gestion"></f:selectItem>
          </h:selectOneMenu>
        </div>

        <button type="submit" class="btn btn-primary">Rechercher</button>
        <hr />
      </h:form>


      <div class="alert alert-info">Résultats</div>



      <h:dataTable value = "#{userController.filterUser()}" var = "user"
			   styleClass = "userTable"
			   headerClass = "userTableHeader"
			   rowClasses = "userTableOddRow,userTableEvenRow">
			   
			   <h:column>    				
			      <f:facet name = "header">Nom</f:facet>    				
			      #{user.lastName}
			   </h:column>
			   
			   <h:column>    				
			      <f:facet name = "header">Prenom</f:facet>    				
			      #{user.firstName}
			   </h:column>
			   
			   <h:column>    				
			      <f:facet name = "header">Section</f:facet>    				
			      #{user.graduationSection.toString()}
			   </h:column>
			   
			   <h:column>    				
			      <f:facet name = "header">Annee de Diplomation</f:facet>    				
			      #{user.graduateDate}
			   </h:column>
			   <h:column>    				
			      <f:facet name = "header">Action</f:facet>    				
					<h:form>
						<h:commandButton value="View" action="#{userController.doSelectUser(user)}"></h:commandButton>
					</h:form>

			   </h:column>
			</h:dataTable>


      <div class="alert alert-info">Détails du contact</div>


      <div class="card">
        <br />
        <img src="..." class="img-thumbnail rounded mx-auto d-block" alt="Photo du contact" />

        <div class="card-body">
          <h3 class="card-subtitle mb-2 text-muted">#{userController.user.lastName} #{userController.user.firstName}</h3>

          <table class="table table-sm table-borderless">
            <thead>
              <tr>
                <th scope="col">Profession</th>
                <th scope="col">Diplôme</th>
                <th scope="col">Adresse e-mail</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>#{userController.user.career}</td>
                <td>#{userController.user.graduationSection.toString()}</td>
                <td>#{userController.user.email}</td>
              </tr>
            </tbody>
          </table>

          <a href="mailto:jdupont@test.be" class="btn btn-primary btn-sm">Contacter</a>
        </div>
      </div>

    </div>

  </ui:define>


</ui:composition>